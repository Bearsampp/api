\doxysection{Action\+Rebuildini Class Reference}
\label{class_action_rebuildini}\index{ActionRebuildini@{ActionRebuildini}}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ \+\_\+\+\_\+construct} (\$args)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles the action of rebuilding the bearsampp.\+ini file within the application.

This class is responsible for deleting the existing bearsampp.\+ini file and creating a new one with the specified configuration content. 

Definition at line \textbf{ 17} of file \textbf{ class.\+action.\+rebuild\+Ini.\+php}.



\label{doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\index{ActionRebuildini@{ActionRebuildini}!\_\_construct@{\_\_construct}}
\index{\_\_construct@{\_\_construct}!ActionRebuildini@{ActionRebuildini}}
\doxysubsubsection{\_\_construct()}
{\footnotesize\ttfamily \label{class_action_rebuildini_a57b60b4976a2c5d1e40f2d11aa72aa7d} 
\+\_\+\+\_\+construct (\begin{DoxyParamCaption}\item[{}]{\$args}{}\end{DoxyParamCaption})}

Constructor for the \doxyref{Action\+Rebuildini}{p.}{d2/d38/class_action_rebuildini} class.

Upon instantiation, it deletes the existing bearsampp.\+ini file and creates a new one with the specified configuration content.


\begin{DoxyParams}[1]{Parameters}
array & {\em \$args} & Arguments that might be used for further extension of constructor functionality. \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em Exception} & If the bearsampp.\+ini file cannot be written. \\
\hline
\end{DoxyExceptions}


Definition at line \textbf{ 28} of file \textbf{ class.\+action.\+rebuild\+Ini.\+php}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00029\ \ \ \ \ \{}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ global\ \$bearsamppRoot,\ \$bearsamppCore;}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Step\ 0:\ Delete\ the\ existing\ bearsampp.ini\ file}}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \$iniFilePath\ =\ \$bearsamppRoot-\/>getIniFilePath();}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (file\_exists(\$iniFilePath))\ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ unlink(\$iniFilePath);}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Process\ and\ update\ the\ bearsampp.ini\ file}}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Step\ 1:\ Prepare\ the\ configuration\ content}}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \$configContent\ =\ <<<EOD}
\DoxyCodeLine{00042\ [Config]}
\DoxyCodeLine{00043\ ImageList=sprites.dat}
\DoxyCodeLine{00044\ ServiceCheckInterval=1}
\DoxyCodeLine{00045\ TrayIconAllRunning=16}
\DoxyCodeLine{00046\ TrayIconSomeRunning=17}
\DoxyCodeLine{00047\ TrayIconNoneRunning=18}
\DoxyCodeLine{00048\ ID=\{Bearsampp\}}
\DoxyCodeLine{00049\ AboutHeader=Bearsampp}
\DoxyCodeLine{00050\ AboutVersion=Version\ @RELEASE\_VERSION@}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ [Services]}
\DoxyCodeLine{00053\ Name:\ bearsamppapache}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ [Messages]}
\DoxyCodeLine{00056\ AllRunningHint=All\ services\ running}
\DoxyCodeLine{00057\ SomeRunningHint=\%n\ of\ \%t\ services\ running}
\DoxyCodeLine{00058\ NoneRunningHint=None\ of\ \%t\ services\ running}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ [StartupAction]}
\DoxyCodeLine{00061\ Action:\ run;\ FileName:\ \textcolor{stringliteral}{"{}\%AeTrayMenuPath\%core/libs/php/php-\/win.exe"{}};\ Parameters:\ \textcolor{stringliteral}{"{}root.php\ startup"{}};\ WorkingDir:\ \textcolor{stringliteral}{"{}\%AeTrayMenuPath\%core"{}};\ Flags:\ waituntilterminated}
\DoxyCodeLine{00062\ Action:\ run;\ FileName:\ \textcolor{stringliteral}{"{}\%AeTrayMenuPath\%core/libs/php/php-\/win.exe"{}};\ Parameters:\ \textcolor{stringliteral}{"{}root.php\ reload"{}};\ WorkingDir:\ \textcolor{stringliteral}{"{}\%AeTrayMenuPath\%core"{}};\ Flags:\ waituntilterminated}
\DoxyCodeLine{00063\ Action:\ resetservices}
\DoxyCodeLine{00064\ Action:\ readconfig}
\DoxyCodeLine{00065\ Action:\ run;\ FileName:\ \textcolor{stringliteral}{"{}\%AeTrayMenuPath\%core/libs/php/php-\/win.exe"{}};\ Parameters:\ \textcolor{stringliteral}{"{}root.php\ checkVersion"{}};\ WorkingDir:\ \textcolor{stringliteral}{"{}\%AeTrayMenuPath\%core"{}};\ Flags:\ waituntilterminated}
\DoxyCodeLine{00066\ Action:\ run;\ FileName:\ \textcolor{stringliteral}{"{}\%AeTrayMenuPath\%core/libs/php/php-\/win.exe"{}};\ Parameters:\ \textcolor{stringliteral}{"{}root.php\ exec"{}};\ WorkingDir:\ \textcolor{stringliteral}{"{}\%AeTrayMenuPath\%core"{}}}
\DoxyCodeLine{00067\ EOD;}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Step\ 2:\ Write\ to\ the\ file}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (file\_put\_contents(\$iniFilePath,\ \$configContent)\ ===\ \textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ Exception(\textcolor{stringliteral}{"{}Failed\ to\ write\ to\ bearsampp.ini\ file."{}});}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ Util::logTrace(\textcolor{stringliteral}{'Calling\ triggerReload...'});}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \$reloadAction\ =\ TplAppReload::triggerReload(\$args);}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ Util::logTrace(\textcolor{stringliteral}{'Reload\ action:\ '}\ .\ \$reloadAction);}
\DoxyCodeLine{00077\ \ \ \ \ \}}

\end{DoxyCode}


References \textbf{ \$bearsampp\+Core}, \textbf{ \$bearsampp\+Root}, \textbf{ Util\textbackslash{}log\+Trace()}, and \textbf{ Tpl\+App\+Reload\textbackslash{}trigger\+Reload()}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/\+Bearsampp-\/development/sandbox/core/classes/actions/\textbf{ class.\+action.\+rebuild\+Ini.\+php}\end{DoxyCompactItemize}
