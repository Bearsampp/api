.TH "TplAppMailpit" 3 "Version 2025.8.29" "Bearsampp" \" -*- nroff -*-
.ad l
.nh
.SH NAME
TplAppMailpit
.SH SYNOPSIS
.br
.PP
.SS "Static Public Member Functions"

.in +1c
.ti -1c
.RI "static \fBgetActionChangeMailpitPort\fP ()"
.br
.ti -1c
.RI "static \fBgetActionEnableMailpit\fP ($enable)"
.br
.ti -1c
.RI "static \fBgetActionInstallMailpitService\fP ()"
.br
.ti -1c
.RI "static \fBgetActionRemoveMailpitService\fP ()"
.br
.ti -1c
.RI "static \fBgetActionSwitchMailpitVersion\fP ($version)"
.br
.ti -1c
.RI "static \fBgetMenuMailpit\fP ()"
.br
.ti -1c
.RI "static \fBgetMenuMailpitService\fP ()"
.br
.ti -1c
.RI "static \fBgetMenuMailpitVersions\fP ()"
.br
.ti -1c
.RI "static \fBprocess\fP ()"
.br
.in -1c
.SS "Data Fields"

.in +1c
.ti -1c
.RI "const \fBACTION_CHANGE_PORT\fP = 'changeMailpitPort'"
.br
.ti -1c
.RI "const \fBACTION_ENABLE\fP = 'enableMailpit'"
.br
.ti -1c
.RI "const \fBACTION_INSTALL_SERVICE\fP = 'installMailpitService'"
.br
.ti -1c
.RI "const \fBACTION_REMOVE_SERVICE\fP = 'removeMailpitService'"
.br
.ti -1c
.RI "const \fBACTION_SWITCH_VERSION\fP = 'switchMailpitVersion'"
.br
.ti -1c
.RI "const \fBMENU\fP = 'mailpit'"
.br
.ti -1c
.RI "const \fBMENU_SERVICE\fP = 'mailpitService'"
.br
.ti -1c
.RI "const \fBMENU_VERSIONS\fP = 'mailpitVersions'"
.br
.in -1c
.SH "Detailed Description"
.PP 
Class \fBTplAppMailpit\fP

.PP
This class provides methods to generate menus and actions for managing the Mailpit application\&. It includes functionalities for enabling/disabling Mailpit, switching versions, changing ports, and managing the Mailpit service\&. 
.PP
Definition at line \fB17\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.SH "Member Function Documentation"
.PP 
.SS "getActionChangeMailpitPort ()\fR [static]\fP"
Generates the action to change the Mailpit port\&.

.PP
This method creates the action string for changing the Mailpit port and includes a command to reload the application\&.

.PP
@global object $bearsamppBins Provides access to system binaries and their configurations\&.

.PP
\fBReturns\fP
.RS 4
string The generated action string for changing the Mailpit port\&. 
.RE
.PP

.PP
Definition at line \fB249\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.nf
250     {
251         global $bearsamppBins;
252 
253         return TplApp::getActionRun(Action::CHANGE_PORT, array($bearsamppBins\->getMailpit()\->getName())) \&. PHP_EOL \&.
254             TplAppReload::getActionReload();
255     }
.PP
.fi

.PP
References \fB$bearsamppBins\fP, \fBAction\\CHANGE_PORT\fP, \fBTplAppReload\\getActionReload()\fP, and \fBTplApp\\getActionRun()\fP\&.
.SS "getActionEnableMailpit ( $enable)\fR [static]\fP"
Generates the action to enable or disable Mailpit\&.

.PP
This method creates the action string for enabling or disabling Mailpit and includes a command to reload the application\&.

.PP
@global object $bearsamppBins Provides access to system binaries and their configurations\&.

.PP
\fBParameters\fP
.RS 4
\fI$enable\fP The enable flag (1 to enable, 0 to disable)\&. 
.RE
.PP
\fBReturns\fP
.RS 4
string The generated action string for enabling or disabling Mailpit\&. 
.RE
.PP

.PP
Definition at line \fB154\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.nf
155     {
156         global $bearsamppBins;
157 
158         return TplApp::getActionRun(Action::ENABLE, array($bearsamppBins\->getMailpit()\->getName(), $enable)) \&. PHP_EOL \&.
159             TplAppReload::getActionReload();
160     }
.PP
.fi

.PP
References \fB$bearsamppBins\fP, \fBAction\\ENABLE\fP, \fBTplAppReload\\getActionReload()\fP, and \fBTplApp\\getActionRun()\fP\&.
.SS "getActionInstallMailpitService ()\fR [static]\fP"
Generates the action to install the Mailpit service\&.

.PP
This method creates the action string for installing the Mailpit service and includes a command to reload the application\&.

.PP
\fBReturns\fP
.RS 4
string The generated action string for installing the Mailpit service\&. 
.RE
.PP

.PP
Definition at line \fB264\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.nf
265     {
266         return TplApp::getActionRun(Action::SERVICE, array(BinMailpit::SERVICE_NAME, ActionService::INSTALL)) \&. PHP_EOL \&.
267             TplAppReload::getActionReload();
268     }
.PP
.fi

.PP
References \fBTplAppReload\\getActionReload()\fP, \fBTplApp\\getActionRun()\fP, \fBActionService\\INSTALL\fP, \fBAction\\SERVICE\fP, and \fBBinMailpit\\SERVICE_NAME\fP\&.
.SS "getActionRemoveMailpitService ()\fR [static]\fP"
Generates the action to remove the Mailpit service\&.

.PP
This method creates the action string for removing the Mailpit service and includes a command to reload the application\&.

.PP
\fBReturns\fP
.RS 4
string The generated action string for removing the Mailpit service\&. 
.RE
.PP

.PP
Definition at line \fB277\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.nf
278     {
279         return TplApp::getActionRun(Action::SERVICE, array(BinMailpit::SERVICE_NAME, ActionService::REMOVE)) \&. PHP_EOL \&.
280             TplAppReload::getActionReload();
281     }
.PP
.fi

.PP
References \fBTplAppReload\\getActionReload()\fP, \fBTplApp\\getActionRun()\fP, \fBActionService\\REMOVE\fP, \fBAction\\SERVICE\fP, and \fBBinMailpit\\SERVICE_NAME\fP\&.
.SS "getActionSwitchMailpitVersion ( $version)\fR [static]\fP"
Generates the action to switch the Mailpit version\&.

.PP
This method creates the action string for switching the Mailpit version and includes a command to reload the application\&.

.PP
@global object $bearsamppBins Provides access to system binaries and their configurations\&.

.PP
\fBParameters\fP
.RS 4
\fI$version\fP The version to switch to\&. 
.RE
.PP
\fBReturns\fP
.RS 4
string The generated action string for switching the Mailpit version\&. 
.RE
.PP

.PP
Definition at line \fB172\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.nf
173     {
174         global $bearsamppBins;
175 
176         return TplApp::getActionRun(Action::SWITCH_VERSION, array($bearsamppBins\->getMailpit()\->getName(), $version)) \&. PHP_EOL \&.
177             TplAppReload::getActionReload() \&. PHP_EOL;
178     }
.PP
.fi

.PP
References \fB$bearsamppBins\fP, \fBTplAppReload\\getActionReload()\fP, \fBTplApp\\getActionRun()\fP, and \fBAction\\SWITCH_VERSION\fP\&.
.SS "getMenuMailpit ()\fR [static]\fP"
Generates the Mailpit menu\&.

.PP
This method creates the menu items and associated actions for Mailpit, including options for downloading, enabling, switching versions, managing the service, and viewing logs\&.

.PP
@global object $bearsamppRoot Provides access to the root path of the application\&. @global object $bearsamppConfig Provides access to the application configuration\&. @global object $bearsamppBins Provides access to system binaries and their configurations\&. @global object $bearsamppLang Provides language support for retrieving language-specific values\&.

.PP
\fBReturns\fP
.RS 4
string The generated Mailpit menu items and actions\&. 
.RE
.PP

.PP
Definition at line \fB60\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.nf
61     {
62         global $bearsamppRoot, $bearsamppConfig, $bearsamppBins, $bearsamppLang;
63         $resultItems = $resultActions = '';
64 
65         $isEnabled = $bearsamppBins\->getMailpit()\->isEnable();
66 
67         // Download
68         $resultItems \&.= TplAestan::getItemLink(
69                 $bearsamppLang\->getValue(Lang::DOWNLOAD_MORE),
70                 Util::getWebsiteUrl('module/mailpit', '#releases'),
71                 false,
72                 TplAestan::GLYPH_BROWSER
73             ) \&. PHP_EOL;
74 
75         // Enable
76         $tplEnable     = TplApp::getActionMulti(
77             self::ACTION_ENABLE, array($isEnabled ? Config::DISABLED : Config::ENABLED),
78             array($bearsamppLang\->getValue(Lang::MENU_ENABLE), $isEnabled ? TplAestan::GLYPH_CHECK : ''),
79             false, get_called_class()
80         );
81         $resultItems   \&.= $tplEnable[TplApp::SECTION_CALL] \&. PHP_EOL;
82         $resultActions \&.= $tplEnable[TplApp::SECTION_CONTENT] \&. PHP_EOL;
83 
84         if ($isEnabled) {
85             $resultItems \&.= TplAestan::getItemSeparator() \&. PHP_EOL;
86 
87             // Versions
88             $tplVersions   = TplApp::getMenu($bearsamppLang\->getValue(Lang::VERSIONS), self::MENU_VERSIONS, get_called_class());
89             $resultItems   \&.= $tplVersions[TplApp::SECTION_CALL] \&. PHP_EOL;
90             $resultActions \&.= $tplVersions[TplApp::SECTION_CONTENT] \&. PHP_EOL;
91 
92             // Service
93             $tplService    = TplApp::getMenu($bearsamppLang\->getValue(Lang::SERVICE), self::MENU_SERVICE, get_called_class());
94             $resultItems   \&.= $tplService[TplApp::SECTION_CALL] \&. PHP_EOL;
95             $resultActions \&.= $tplService[TplApp::SECTION_CONTENT] \&. PHP_EOL;
96 
97             // Web page
98             $resultItems \&.= TplAestan::getItemExe(
99                     $bearsamppLang\->getValue(Lang::MAILPIT),
100                     $bearsamppConfig\->getBrowser(),
101                     TplAestan::GLYPH_WEB_PAGE,
102                     $bearsamppRoot\->getLocalUrl() \&. ':' \&. $bearsamppBins\->getMailpit()\->getUiPort() \&. '/' \&. $bearsamppBins\->getMailpit()\->getWebRoot()
103                 ) \&. PHP_EOL;
104 
105             // Log
106             $resultItems \&.= TplAestan::getItemNotepad($bearsamppLang\->getValue(Lang::MENU_LOGS), $bearsamppBins\->getMailpit()\->getLog()) \&. PHP_EOL;
107         }
108 
109         return $resultItems \&. PHP_EOL \&. $resultActions;
110     }
.PP
.fi

.PP
References \fB$bearsamppBins\fP, \fB$bearsamppConfig\fP, \fB$bearsamppLang\fP, \fB$bearsamppRoot\fP, \fBConfig\\DISABLED\fP, \fBLang\\DOWNLOAD_MORE\fP, \fBConfig\\ENABLED\fP, \fBTplApp\\getActionMulti()\fP, \fBTplAestan\\getItemExe()\fP, \fBTplAestan\\getItemLink()\fP, \fBTplAestan\\getItemNotepad()\fP, \fBTplAestan\\getItemSeparator()\fP, \fBTplApp\\getMenu()\fP, \fBUtil\\getWebsiteUrl()\fP, \fBTplAestan\\GLYPH_BROWSER\fP, \fBTplAestan\\GLYPH_CHECK\fP, \fBTplAestan\\GLYPH_WEB_PAGE\fP, \fBLang\\MAILPIT\fP, \fBLang\\MENU_ENABLE\fP, \fBLang\\MENU_LOGS\fP, \fBTplApp\\SECTION_CALL\fP, \fBTplApp\\SECTION_CONTENT\fP, \fBLang\\SERVICE\fP, and \fBLang\\VERSIONS\fP\&.
.SS "getMenuMailpitService ()\fR [static]\fP"
Generates the Mailpit service menu\&.

.PP
This method creates the menu items and associated actions for managing the Mailpit service, including starting, stopping, restarting, changing ports, and installing or removing the service\&.

.PP
@global object $bearsamppRoot Provides access to the root path of the application\&. @global object $bearsamppLang Provides language support for retrieving language-specific values\&. @global object $bearsamppBins Provides access to system binaries and their configurations\&.

.PP
\fBReturns\fP
.RS 4
string The generated Mailpit service menu items and actions\&. 
.RE
.PP

.PP
Definition at line \fB192\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.nf
193     {
194         global $bearsamppRoot, $bearsamppLang, $bearsamppBins;
195 
196         $tplChangePort = TplApp::getActionMulti(
197             self::ACTION_CHANGE_PORT, null,
198             array($bearsamppLang\->getValue(Lang::MENU_CHANGE_PORT), TplAestan::GLYPH_NETWORK),
199             false, get_called_class()
200         );
201 
202         $isInstalled = $bearsamppBins\->getMailpit()\->getService()\->isInstalled();
203 
204         $result = TplAestan::getItemActionServiceStart($bearsamppBins\->getMailpit()\->getService()\->getName()) \&. PHP_EOL \&.
205             TplAestan::getItemActionServiceStop($bearsamppBins\->getMailpit()\->getService()\->getName()) \&. PHP_EOL \&.
206             TplAestan::getItemActionServiceRestart($bearsamppBins\->getMailpit()\->getService()\->getName()) \&. PHP_EOL \&.
207             TplAestan::getItemSeparator() \&. PHP_EOL \&.
208             TplApp::getActionRun(
209                 Action::CHECK_PORT, array($bearsamppBins\->getMailpit()\->getName(), $bearsamppBins\->getMailpit()\->getSmtpPort()),
210                 array(sprintf($bearsamppLang\->getValue(Lang::MENU_CHECK_PORT), $bearsamppBins\->getMailpit()\->getSmtpPort()), TplAestan::GLYPH_LIGHT)
211             ) \&. PHP_EOL \&.
212             $tplChangePort[TplApp::SECTION_CALL] \&. PHP_EOL \&.
213             TplAestan::getItemNotepad($bearsamppLang\->getValue(Lang::MENU_UPDATE_ENV_PATH), $bearsamppRoot\->getRootPath() \&. '/nssmEnvPaths\&.dat') \&. PHP_EOL;
214 
215         if (!$isInstalled) {
216             $tplInstallService = TplApp::getActionMulti(
217                 self::ACTION_INSTALL_SERVICE, null,
218                 array($bearsamppLang\->getValue(Lang::MENU_INSTALL_SERVICE), TplAestan::GLYPH_SERVICE_INSTALL),
219                 $isInstalled, get_called_class()
220             );
221 
222             $result \&.= $tplInstallService[TplApp::SECTION_CALL] \&. PHP_EOL \&. PHP_EOL \&.
223                 $tplInstallService[TplApp::SECTION_CONTENT] \&. PHP_EOL;
224         } else {
225             $tplRemoveService = TplApp::getActionMulti(
226                 self::ACTION_REMOVE_SERVICE, null,
227                 array($bearsamppLang\->getValue(Lang::MENU_REMOVE_SERVICE), TplAestan::GLYPH_SERVICE_REMOVE),
228                 !$isInstalled, get_called_class()
229             );
230 
231             $result \&.= $tplRemoveService[TplApp::SECTION_CALL] \&. PHP_EOL \&. PHP_EOL \&.
232                 $tplRemoveService[TplApp::SECTION_CONTENT] \&. PHP_EOL;
233         }
234 
235         $result \&.= $tplChangePort[TplApp::SECTION_CONTENT] \&. PHP_EOL;
236 
237         return $result;
238     }
.PP
.fi

.PP
References \fB$bearsamppBins\fP, \fB$bearsamppLang\fP, \fB$bearsamppRoot\fP, \fB$result\fP, \fBAction\\CHECK_PORT\fP, \fBTplApp\\getActionMulti()\fP, \fBTplApp\\getActionRun()\fP, \fBTplAestan\\getItemActionServiceRestart()\fP, \fBTplAestan\\getItemActionServiceStart()\fP, \fBTplAestan\\getItemActionServiceStop()\fP, \fBTplAestan\\getItemNotepad()\fP, \fBTplAestan\\getItemSeparator()\fP, \fBTplAestan\\GLYPH_LIGHT\fP, \fBTplAestan\\GLYPH_NETWORK\fP, \fBTplAestan\\GLYPH_SERVICE_INSTALL\fP, \fBTplAestan\\GLYPH_SERVICE_REMOVE\fP, \fBLang\\MENU_CHANGE_PORT\fP, \fBLang\\MENU_CHECK_PORT\fP, \fBLang\\MENU_INSTALL_SERVICE\fP, \fBLang\\MENU_REMOVE_SERVICE\fP, \fBLang\\MENU_UPDATE_ENV_PATH\fP, \fBTplApp\\SECTION_CALL\fP, and \fBTplApp\\SECTION_CONTENT\fP\&.
.SS "getMenuMailpitVersions ()\fR [static]\fP"
Generates the Mailpit versions menu\&.

.PP
This method creates the menu items and associated actions for switching between different versions of Mailpit\&.

.PP
@global object $bearsamppBins Provides access to system binaries and their configurations\&.

.PP
\fBReturns\fP
.RS 4
string The generated Mailpit versions menu items and actions\&. 
.RE
.PP

.PP
Definition at line \fB121\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.nf
122     {
123         global $bearsamppBins;
124         $items   = '';
125         $actions = '';
126 
127         foreach ($bearsamppBins\->getMailpit()\->getVersionList() as $version) {
128             $tplSwitchMailpitVersion = TplApp::getActionMulti(
129                 self::ACTION_SWITCH_VERSION, array($version),
130                 array($version, $version == $bearsamppBins\->getMailpit()\->getVersion() ? TplAestan::GLYPH_CHECK : ''),
131                 false, get_called_class()
132             );
133 
134             // Item
135             $items \&.= $tplSwitchMailpitVersion[TplApp::SECTION_CALL] \&. PHP_EOL;
136 
137             // Action
138             $actions \&.= PHP_EOL \&. $tplSwitchMailpitVersion[TplApp::SECTION_CONTENT];
139         }
140 
141         return $items \&. $actions;
142     }
.PP
.fi

.PP
References \fB$bearsamppBins\fP, \fBTplApp\\getActionMulti()\fP, \fBTplAestan\\GLYPH_CHECK\fP, \fBTplApp\\SECTION_CALL\fP, and \fBTplApp\\SECTION_CONTENT\fP\&.
.SS "process ()\fR [static]\fP"
Processes the Mailpit menu\&.

.PP
This method generates the menu for enabling or disabling Mailpit\&. It uses the global language object to retrieve the localized string for Mailpit\&.

.PP
@global object $bearsamppLang Provides language support for retrieving language-specific values\&. @global object $bearsamppBins Provides access to system binaries and their configurations\&.

.PP
\fBReturns\fP
.RS 4
array The generated menu for enabling or disabling Mailpit\&. 
.RE
.PP

.PP
Definition at line \fB40\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.nf
41     {
42         global $bearsamppLang, $bearsamppBins;
43 
44         return TplApp::getMenuEnable($bearsamppLang\->getValue(Lang::MAILPIT), self::MENU, get_called_class(), $bearsamppBins\->getMailpit()\->isEnable());
45     }
.PP
.fi

.PP
References \fB$bearsamppBins\fP, \fB$bearsamppLang\fP, \fBTplApp\\getMenuEnable()\fP, and \fBLang\\MAILPIT\fP\&.
.PP
Referenced by \fBTplApp\\getSectionMenuLeft()\fP\&.
.SH "Field Documentation"
.PP 
.SS "const ACTION_CHANGE_PORT = 'changeMailpitPort'"

.PP
Definition at line \fB25\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.SS "const ACTION_ENABLE = 'enableMailpit'"

.PP
Definition at line \fB23\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.SS "const ACTION_INSTALL_SERVICE = 'installMailpitService'"

.PP
Definition at line \fB26\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.SS "const ACTION_REMOVE_SERVICE = 'removeMailpitService'"

.PP
Definition at line \fB27\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.SS "const ACTION_SWITCH_VERSION = 'switchMailpitVersion'"

.PP
Definition at line \fB24\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.SS "const MENU = 'mailpit'"

.PP
Definition at line \fB19\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.SS "const MENU_SERVICE = 'mailpitService'"

.PP
Definition at line \fB21\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.
.SS "const MENU_VERSIONS = 'mailpitVersions'"

.PP
Definition at line \fB20\fP of file \fBclass\&.tpl\&.app\&.mailpit\&.php\fP\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for Bearsampp from the source code\&.
