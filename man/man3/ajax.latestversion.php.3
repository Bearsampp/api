.TH "E:/Bearsampp-development/sandbox/core/resources/homepage/ajax/ajax.latestversion.php" 3 "Version 2025.8.29" "Bearsampp" \" -*- nroff -*-
.ad l
.nh
.SH NAME
E:/Bearsampp-development/sandbox/core/resources/homepage/ajax/ajax.latestversion.php
.SH SYNOPSIS
.br
.PP
.SS "Variables"

.in +1c
.ti -1c
.RI "global \fB$bearsamppCore\fP"
.br
.ti -1c
.RI "\fB$bearsamppCurrentVersion\fP = $bearsamppCore\->getAppVersion()"
.br
.ti -1c
.RI "global \fB$bearsamppLang\fP"
.br
.ti -1c
.RI "\fB$githubLatestVersion\fP = $githubVersionData['version']"
.br
.ti -1c
.RI "\fB$githubLatestVersionUrl\fP = $githubVersionData['html_url']"
.br
.ti -1c
.RI "global \fB$githubVersionData\fP = \fBUtil::getLatestVersion\fP(\fBAPP_GITHUB_LATEST_URL\fP)"
.br
.ti -1c
.RI "\fB$githubVersionName\fP = $githubVersionData['name']"
.br
.ti -1c
.RI "\fB$result\fP"
.br
.ti -1c
.RI "\fBif\fP(!empty($githubVersionData)) \fBelse\fP"
.br
.ti -1c
.RI "\fBif\fP (version_compare( $bearsamppCurrentVersion, $githubLatestVersion, '<'))"
.br
.in -1c
.SH "Variable Documentation"
.PP 
.SS "global $bearsamppCore"

.PP
Definition at line \fB24\fP of file \fBajax\&.latestversion\&.php\fP\&.
.PP
Referenced by \fBActionAbout\\__construct()\fP, \fBActionCheckVersion\\__construct()\fP, \fBActionClearFolders\\__construct()\fP, \fBActionExec\\__construct()\fP, \fBActionLoading\\__construct()\fP, \fBActionManualRestart\\__construct()\fP, \fBActionQuit\\__construct()\fP, \fBActionRebuildini\\__construct()\fP, \fBActionReload\\__construct()\fP, \fBActionStartup\\__construct()\fP, \fBQuickPick\\__construct()\fP, \fBWinBinder\\__construct()\fP, \fBUtil\\changePath()\fP, \fBActionLoading\\checkAllServicesStarted()\fP, \fBActionStartup\\checkPath()\fP, \fBActionStartup\\cleanTmpFolders()\fP, \fBOpenSsl\\createCrt()\fP, \fBVbs\\createShortcut()\fP, \fBBatch\\createSymlink()\fP, \fBWinBinder\\createWindow()\fP, \fBUtil\\decryptFile()\fP, \fBSymlinks\\deleteCurrentSymlinks()\fP, \fBNssm\\exec()\fP, \fBWinBinder\\exec()\fP, \fBBatch\\exitApp()\fP, \fBQuickPick\\fetchAndUnzipModule()\fP, \fBTplApp\\getActionRun()\fP, \fBHomepage\\getHomepagePath()\fP, \fBCore\\getImagesPath()\fP, \fBLangProc\\getList()\fP, \fBTplAppTools\\getMenuTools()\fP, \fBUtil\\getPathsToScan()\fP, \fBHomepage\\getResourcesPath()\fP, \fBTplAestan\\getSectionConfig()\fP, \fBTplConsoleZ\\getTab()\fP, \fBBatch\\getTmpFile()\fP, \fBUtil\\getWebsiteUrl()\fP, \fBActionLoading\\incrProgressBar()\fP, \fBSplash\\incrProgressBar()\fP, \fBSplash\\init()\fP, \fBLangProc\\load()\fP, \fBRoot\\loadCore()\fP, \fBUtil\\log()\fP, \fBWinBinder\\messageBox()\fP, \fBTplApp\\process()\fP, \fBActionStartup\\processWindow()\fP, \fBActionSwitchVersion\\processWindow()\fP, \fBBatch\\refreshEnvVars()\fP, \fBActionStartup\\rotationLogs()\fP, \fBActionStartup\\savePath()\fP, \fBUtil\\setupCurlHeaderWithToken()\fP, \fBUtil\\startLoading()\fP, and \fBUtil\\stopLoading()\fP\&.
.SS "$bearsamppCurrentVersion = $bearsamppCore\->getAppVersion()"

.PP
Definition at line \fB32\fP of file \fBajax\&.latestversion\&.php\fP\&.
.SS "global $bearsamppLang"
Constructs the download link for a new version if available\&.

.PP
This function compares the current application version with the latest available version\&. If the latest version is greater, it sets the display flag to true and constructs an HTML link for downloading the new version, appending it to the 'download' key in the result array\&.

.PP
\fBParameters\fP
.RS 4
\fI$result\fP Holds the display flag and download link HTML\&.
.RE
.PP
\fBReturns\fP
.RS 4
void Modifies the $result array by reference\&. @global object $bearsamppLang Language management object, used for retrieving language-specific values\&. @global object $bearsamppCore \fBCore\fP application object, used for retrieving the current version\&. @global array $githubVersionData Holds the latest version data retrieved from GitHub\&. 
.RE
.PP

.PP
Definition at line \fB24\fP of file \fBajax\&.latestversion\&.php\fP\&.
.SS "$githubLatestVersion = $githubVersionData['version']"

.PP
Definition at line \fB65\fP of file \fBajax\&.latestversion\&.php\fP\&.
.PP
Referenced by \fBActionCheckVersion\\__construct()\fP, and \fBActionCheckVersion\\showVersionUpdateWindow()\fP\&.
.SS "$githubLatestVersionUrl = $githubVersionData['html_url']"

.PP
Definition at line \fB66\fP of file \fBajax\&.latestversion\&.php\fP\&.
.SS "$githubVersionData = \fBUtil::getLatestVersion\fP(\fBAPP_GITHUB_LATEST_URL\fP)"
Retrieves the latest version data from GitHub\&.

.PP
\fBReturns\fP
.RS 4
array|null Returns an array with version data or null if retrieval fails\&. 
.RE
.PP

.PP
Definition at line \fB24\fP of file \fBajax\&.latestversion\&.php\fP\&.
.PP
Referenced by \fBActionCheckVersion\\__construct()\fP\&.
.SS "$githubVersionName = $githubVersionData['name']"

.PP
Definition at line \fB67\fP of file \fBajax\&.latestversion\&.php\fP\&.
.SS "$result"
\fBInitial value:\fP
.nf
= array(
    'display' => false,
    'download' => '',
)
.PP
.fi

.PP
Definition at line \fB26\fP of file \fBajax\&.latestversion\&.php\fP\&.
.SS "\fBif\fP (!empty( $githubVersionData)) else"
\fBInitial value:\fP
.nf
{
    Util::logError('No data available in $githubVersionData')
.PP
.fi

.PP
Definition at line \fB44\fP of file \fBajax\&.latestversion\&.php\fP\&.
.SS "if(version_compare($bearsamppCurrentVersion, $githubLatestVersion, '<')) (version_compare( $bearsamppCurrentVersion, $githubLatestVersion, '<') )"
Compares the current version with the latest version\&.

.PP
If the latest version is greater, sets the display flag to true and constructs the download link\&.

.PP
\fBParameters\fP
.RS 4
\fI$bearsamppCurrentVersion\fP The current version of the application\&. 
.br
\fI$githubLatestVersion\fP The latest version of the application\&. 
.RE
.PP
\fBReturns\fP
.RS 4
void Modifies the $result array by reference\&. Outputs the result array as a JSON string\&.
.RE
.PP
\fBParameters\fP
.RS 4
\fI$result\fP The result array containing the display flag and download link\&. 
.RE
.PP
\fBReturns\fP
.RS 4
void Outputs the JSON-encoded result\&. 
.RE
.PP

.PP
Definition at line \fB79\fP of file \fBajax\&.latestversion\&.php\fP\&.
.SH "Author"
.PP 
Generated automatically by Doxygen for Bearsampp from the source code\&.
